<div header id=header__ID>
    <nav id=nav__ID class="navbar navbar-expand-xl navbar-dark">
		<div id=brand__ID>
	        <a class="navbar-brand d-none d-xl-inline-block" onclick="$vm.nav_load_module('panel_main_home');">
	        	<div class=large_logo__ID>
		        	<div class="logo_image__ID"></div>
					<div class="logo_label__ID">
		                <div class="large_logo_large_label__ID">
		                    Modular distributed web applications
		                </div>
		                <div class="large_logo_small_label__ID">
		                    Open source project (https://github.com/vmiis)
		                </div>
		            </div>
		        </div>

	        </a>
	        <a class="navbar-brand d-xl-none" onclick="$vm.nav_load_module('panel_main_home');">
	            <div class=small_logo__ID>Modular distributed web applications<br>Open source project (https://github.com/vmiis)</div>
	        </a>
		</div>
        <button class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#navbars__ID" aria-controls="navbars__ID" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div id="navbars__ID" class="navbar-collapse collapse">
            <ul class="navbar-nav">
                <li class="nav-item"><a class="nav-link" data-toggle="collapse" data-target=".navbar-collapse.show" onclick="$vm.nav_load_module('panel_main_home');"><i class="fa fa-home"></i> Home</a></li>
				<li class="nav-item"><a class="nav-link" data-toggle="collapse" data-target=".navbar-collapse.show" onclick="$vm.nav_load_module('panel_main');"><i class="fa fa-th"></i> Modules</a></li>
                <li class="nav-item"><a class="nav-link" data-toggle="collapse" data-target=".navbar-collapse.show" onclick="$vm.nav_load_module('panel_template');"><i class="fa fa-th-large"></i> Templates</a></li>
                <li class="nav-item"><a class="nav-link" data-toggle="collapse" data-target=".navbar-collapse.show" onclick="$vm.nav_load_module('panel_about');"><i class="fa fa-info-circle"></i> About</a></li>
                <!--<li class="nav-item"><a class="nav-link" onclick="$vm.nav_click_process('vm_signinout');" name=signinout><i class="fa fa-user"></i> Sign In/Out</a></li>-->
				<li class="nav-item dropdown" id=signin__ID>
                    <a class="nav-link dropdown-toggle" id="nav_dropdown__ID" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="fa fa-user"></i> Sign In</a></a>
                    <div class="dropdown-menu" aria-labelledby="nav_dropdown__ID">
                        <a class="dropdown-item" data-toggle="collapse" data-target=".navbar-collapse.show" onclick="$vm.nav_wappsystem_signin();">Wappsystem</a>
						<a class="dropdown-item" data-toggle="collapse" data-target=".navbar-collapse.show" id=google__ID >Google</a>
                    </div>
                </li>
				<li class="nav-item" id=signout__ID style='display:none'><a class="nav-link" onclick=vm_signout() ><i class="fa fa-user"></i> Sign Out</a></li>
            </ul>
			<form id=form__ID class="form-inline my-2 my-xl-0">
				<input id=vm_system_search class="form-control mr-sm-2" type="text" placeholder="Search modules..." aria-label="Search modules..." />
			</form>
        </div>
    </nav>
    <script>
        //---------------------------------------------
		$.getScript('https://apis.google.com/js/platform.js',function(){
			gapi.load('auth2', function(){
				// Retrieve the singleton for the GoogleAuth library and set up the client.
				auth2 = gapi.auth2.init({
					client_id: '175539446682-tvqlkse9j0mt79fk70uetoq30bpnrboa.apps.googleusercontent.com',
					cookiepolicy: 'single_host_origin',
					// Request scopes in addition to 'profile' and 'email'
					//scope: 'additional_scope'
				});
				var element=document.getElementById('google__ID');
				auth2.attachClickHandler(element, {}, function(googleUser) {
						$('#username__ID').text("Signed in: "+googleUser.getBasicProfile().getName());
						$vm.user=googleUser.getBasicProfile().getName();
						/*
						$vm.user_google_email=googleUser.getBasicProfile().getId();
						$vm.user_google_id=googleUser.getBasicProfile().getEmail();
						*/
						$vm.user_google_id_token=googleUser.getAuthResponse().id_token;
						$VmAPI.request({data:{cmd:'signin_google',id_token:$vm.user_google_id_token},callback:function(res){
							$vm.user=res.username;
							$vm.user_id=res.user_id;
							$VmAPI.set_token(res.token,res.api_url,res.username,res.user_id,res.nickname);
							location.reload(true);
						}})

/*
						$vm.google_auth=1;
						$('#username__ID').text('Signed in as '+ $vm.user+' (Google)');
						$('#signin__ID').hide();
						$('#signout__ID').show();
						*/
					},
					function(error) {
						//alert(JSON.stringify(error, undefined, 2));
					}
				);
			});
		});
		//---------------------------------------------
		var vm_signout=function(){
			if($vm.google_auth==1){
				$vm.google_auth=0;
				var auth2 = gapi.auth2.getAuthInstance();
    			auth2.signOut();
			}
			$vm.nav_signout();
		}
		//---------------------------------------------
		var init_loop=setInterval(function (){
			console.log('init_loop...')
			if($vm.init_status==1){
				clearInterval(init_loop);
				if($vm.user=='guest'){
		            $('#username__ID').text('');
					$('#signin__ID').show();
					$('#signout__ID').hide();
		        }
		        else{
		            $('#username__ID').text('Signed in as '+ $vm.user);
					$('#signin__ID').hide();
					$('#signout__ID').show();
		        }
			}
		},100);
        //---------------------------------------------
    </script>
    <style>
        #header__ID{
            background: rgba(50,80,100,0.7);
        }
		#header__ID a{
            cursor:pointer;
        }
		#nav__ID{
			padding:0;
	        z-index:99;
        }
        .large_logo__ID{
            color:#fff;
            padding-left:20px;
            display:table;
        }
		.logo_image__ID{
			width:94px;
			height:94px;
			border-radius: 47px;
			background: url('images/logo.jpg') no-repeat top center;
			background-size: cover;
		}
		.logo_label__ID{
			padding: 16px 0 0 20px;
			display: table-cell;
			vertical-align: top;
			color:#fff;
			font-family: Helvetica,Arial,sans-serif;
		}
        .large_logo_large_label__ID{
            font-size:140%;
        }
        .large_logo_small_label__ID{
            font-size:74%;
        }
		.small_logo__ID{
            color:#fff;
			font-size: 60%;
			padding:5px 0;
        }
		#navbars__ID{
			padding: 50px 0 0 0;
        }
		#form__ID{
			padding-left:20px;
		}
		@media screen and (max-width:1200px){
			#form__ID{
				padding-left:0px;
			}
			#nav__ID{
	        	padding:0 10px;
				background-color:#304556;
			}
	        #navbars__ID{
				padding: 5px;
	        }
	        #form__ID{
		        padding-right:0px;
	        }
		}
		/****************************/
		#navbars__ID a:focus {
			outline: none;
		}
		#navbars__ID .navbar-brand {
			font-size: 1.1rem;
			color: white;
		}
		#navbars__ID .navbar-brand.active,
		#navbars__ID .navbar-brand:active,
		#navbars__ID .navbar-brand:focus,
		#navbars__ID .navbar-brand:hover {
			color: white;
		}
		#navbars__ID .navbar-nav {
			letter-spacing: 1px;
		}
		#navbars__ID .navbar-nav li.nav-item a.nav-link {
			color: white;
		}
		#navbars__ID .navbar-nav li.nav-item a.nav-link:hover {
			color: #18BC9C;
			outline: none;
		}
		#navbars__ID .navbar-nav li.nav-item a.nav-link:active,
		#navbars__ID .navbar-nav li.nav-item a.nav-link:focus {
			color: white;
		}
		#navbars__ID .navbar-toggler {
			font-size: 14px;
			padding: 11px;
			text-transform: uppercase;
			color: white;
			border-color: white;
		}
		#navbars__ID .navbar-toggler:focus,
		#navbars__ID .navbar-toggler:hover {
			color: white;
			border-color: #18BC9C;
			background-color: #18BC9C;
		}
		@media (min-width: 992px) {
			#navbars__ID {
				-webkit-transition: padding-top 0.3s, padding-bottom 0.3s;
				-moz-transition: padding-top 0.3s, padding-bottom 0.3s;
				transition: padding-top 0.3s, padding-bottom 0.3s;
			}
			#navbars__ID .navbar-brand {
				font-size: 2em;
				-webkit-transition: all 0.3s;
				-moz-transition: all 0.3s;
				transition: all 0.3s;
			}
			#navbars__ID .navbar-nav > li.nav-item > a.nav-link.active {
				color: white;
				border-radius: 3px;
				background: #18BC9C;
			}
			#navbars__ID .navbar-nav > li.nav-item > a.nav-link.active:active,
			#navbars__ID .navbar-nav > li.nav-item > a.nav-link.active:focus,
			#navbars__ID .navbar-nav > li.nav-item > a.nav-link.active:hover {
				color: white;
				background: #18BC9C;
		  	}
		}
		/*********************************/
    </style>
</div>
